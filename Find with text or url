
(async function () {
  const anchors = Array.from(document.querySelectorAll('a[href]'));
  const allLinks = [];

  for (const a of anchors) {
    const text = a.innerText.trim() || '(no text)';
    const href = a.href;
    const domain = new URL(href).hostname;

    allLinks.push({ text, href, domain });
  }

  if (allLinks.length === 0) {
    console.log('No inline links found on this page.');
    return;
  }

  console.log('%cAll Inline Links:', 'font-weight:bold; color:blue');
  console.table(allLinks);

  const userInput = prompt('Enter link text or part of the URL to search (case-insensitive):');
  if (!userInput) {
    console.log('No input provided. Skipping filtering.');
    return;
  }

  const lowerInput = userInput.toLowerCase();
  const matched = allLinks.filter(link =>
    link.text.toLowerCase().includes(lowerInput) ||
    link.href.toLowerCase().includes(lowerInput)
  );

  if (matched.length === 0) {
    console.log(`No matches found for: "${userInput}"`);
  } else {
    console.log(`%cMatched Links for "${userInput}":`, 'font-weight:bold; color:green');
    console.table(matched);
  }
})();
